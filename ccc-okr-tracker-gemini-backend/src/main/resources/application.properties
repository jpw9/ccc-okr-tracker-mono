spring.application.name=okr-tracker
# Default to prod for production deployments
# For local development, override with: ./mvnw spring-boot:run -Dspring-boot.run.profiles=dev
spring.profiles.default=prod

# JPA/Hibernate Configuration
# Use 'none' to let Liquibase manage the schema
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Performance: Batch fetch lazy collections to prevent N+1 query problem
# Instead of 1 query per entity, Hibernate will batch-load up to 50 at a time
spring.jpa.properties.hibernate.default_batch_fetch_size=50
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Liquibase Configuration
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.yaml
spring.liquibase.default-schema=public

# Server Configuration
server.port=8080

# CORS Configuration
app.cors.origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200}

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB